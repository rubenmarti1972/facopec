<section class="section" data-strapi-collection="about">
  <div class="container">
    <div class="about__intro">
      <span class="section__eyebrow">Nosotros</span>
      <h1 class="about__title">Fundaci贸n Afrocolombiana Profe en Casa</h1>
      <p class="about__lead">
        Somos un movimiento educativo y comunitario que articula fe, cultura y tecnolog铆a para crear oportunidades reales en el
        Cauca y las comunidades afrocolombianas de Colombia.
      </p>
    </div>

    <!-- Organigrama al inicio -->
    <div class="organigrama-section" style="margin: 3rem 0;">
      <div class="section__heading" style="text-align: center; margin-bottom: 2rem;">
        <span class="section__eyebrow">Estructura organizacional</span>
        <h2 class="section__title">Organigrama</h2>
        <p class="section__subtitle">Conoce nuestra estructura administrativa</p>
      </div>

      <div style="position: relative; width: 100%; height: 0; padding-top: 75%; padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-top: 1.6em; margin-bottom: 0.9em; overflow: hidden; border-radius: 8px; will-change: transform;">
        <iframe
          *ngIf="safeOrganigramaUrl"
          loading="lazy"
          style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0; margin: 0;"
          [src]="safeOrganigramaUrl"
          allowfullscreen="allowfullscreen"
          allow="fullscreen"
          title="Organigrama FACOPEC">
        </iframe>
      </div>
      <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: #666;">
        <a [href]="organigramaUrl" target="_blank" rel="noopener" style="text-decoration: none; color: inherit;">
          Ver organigrama completo
        </a>
      </p>
    </div>

    <!-- Secci贸n de Nuestra Identidad -->
    <div class="section__heading" style="text-align: center; margin: 4rem 0 2rem;">
      <span class="section__eyebrow">Nuestra identidad</span>
      <h2 class="section__title">Qui茅nes somos</h2>
    </div>

    <div class="identity__grid">
      <div class="identity-description-with-image">
        <article
          class="card identity-card identity-card--description"
          [class.identity-card--expanded]="identityExpanded.description"
          [attr.data-strapi-uid]="identity.dataStrapiUid"
        >
          <h2 class="identity-card__title">Descripci贸n de la fundaci贸n</h2>
          <div class="identity-card__body" id="about-description">
            <p>{{ identity.description }}</p>
          </div>
          <button
            type="button"
            class="identity-card__toggle"
            (click)="toggleIdentityCard('description')"
            [attr.aria-expanded]="identityExpanded.description"
            aria-controls="about-description"
          >
            {{ identityExpanded.description ? 'Ver menos' : 'Leer m谩s' }}
          </button>
        </article>
        <div class="identity-image">
          <img src="assets/fotos-fundacion/apoyo.webp" alt="Fundaci贸n Afrocolombiana Profe en Casa en acci贸n" loading="lazy" />
        </div>
      </div>

      <article class="card values-card" data-strapi-uid="about.values">
        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
          <a href="https://fundacionafrocolombianaprofeencasa.blogspot.com/2025/04/valores.html" target="_blank" rel="noopener" title="Conoce m谩s sobre nuestros valores">
            <img src="assets/program-logos/comunidades-narp.png" alt="Logo Comunidades NARP" style="width: 60px; height: 60px; object-fit: contain; cursor: pointer;" />
          </a>
          <h2 class="identity-card__title" style="margin: 0;">Valores que nos gu铆an</h2>
        </div>
        <ul class="values-card__list">
          <li
            class="values-card__item"
            *ngFor="let value of identity.values"
            [attr.data-strapi-uid]="value.dataStrapiUid"
          >
            <span class="values-card__icon">{{ value.icon }}</span>
            <div class="values-card__copy">
              <p class="values-card__title">{{ value.title }}</p>
              <p class="values-card__description">{{ value.description }}</p>
            </div>
          </li>
        </ul>
      </article>

      <div class="identity__pair">
        <article
          class="card identity-card"
          [class.identity-card--expanded]="identityExpanded.mission"
          [attr.data-strapi-uid]="missionVision.dataStrapiUidMission"
        >
          <div class="identity-card__icon"></div>
          <h2 class="identity-card__title">Misi贸n</h2>
          <div class="identity-card__body" id="about-mission">
            <p>{{ missionVision.mission }}</p>
          </div>
          <button
            type="button"
            class="identity-card__toggle"
            (click)="toggleIdentityCard('mission')"
            [attr.aria-expanded]="identityExpanded.mission"
            aria-controls="about-mission"
          >
            {{ identityExpanded.mission ? 'Ver menos' : 'Leer m谩s' }}
          </button>
        </article>

        <article
          class="card identity-card"
          [class.identity-card--expanded]="identityExpanded.vision"
          [attr.data-strapi-uid]="missionVision.dataStrapiUidVision"
        >
          <div class="identity-card__icon"></div>
          <h2 class="identity-card__title">Visi贸n</h2>
          <div class="identity-card__body" id="about-vision">
            <p>{{ missionVision.vision }}</p>
          </div>
          <button
            type="button"
            class="identity-card__toggle"
            (click)="toggleIdentityCard('vision')"
            [attr.aria-expanded]="identityExpanded.vision"
            aria-controls="about-vision"
          >
            {{ identityExpanded.vision ? 'Ver menos' : 'Leer m谩s' }}
          </button>
        </article>
      </div>
    </div>
  </div>
</section>
